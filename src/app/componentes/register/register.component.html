
<div class="container">
  <h2>Registro de Residentes</h2>
  <div *ngIf="registroExitoso" class="alert alert-success">
    ¡Registro exitoso! El usuario ha sido registrado correctamente.
  </div>
  <form
    *ngIf="registroForm"
    [formGroup]="registroForm"
    (ngSubmit)="onSubmit()"
    style="max-width: 600px; margin: auto;">
    
    <div style="display: flex; flex-wrap: wrap; justify-content: space-between; gap: 10px;">

      <!-- Campos del formulario -->
      <mat-form-field style="flex-basis: 48%;">
        <label for="nombre">Nombre:</label>
        <input matInput type="text" id="nombre" formControlName="nombre" required>
        <mat-error
          *ngIf="registroForm.get('nombre')?.hasError('required') && registroForm.get('nombre')?.touched"
        >
          ¡El nombre es obligatorio!
        </mat-error>
      </mat-form-field>

      <mat-form-field style="flex-basis: 48%;">
        <label for="apellido">Apellidos:</label>
        <input matInput type="text" id="apellido" formControlName="apellido" required>
        <mat-error
          *ngIf="registroForm.get('apellido')?.hasError('required') && registroForm.get('apellido')?.touched"
        >
          ¡El apellido es obligatorio!
        </mat-error>
      </mat-form-field>

      <mat-form-field style="flex-basis: 48%;">
        <label for="depto">Depto:</label>
        <input matInput type="text" id="depto" formControlName="depto" required>
        <mat-error
          *ngIf="registroForm.get('depto')?.hasError('required') && registroForm.get('depto')?.touched"
        >
          ¡El número de departamento es obligatorio!
        </mat-error>
      </mat-form-field>

      <mat-form-field style="flex-basis: 48%;">
        <label for="telefono">Telefono:</label>
        <input matInput type="number" id="telefono" formControlName="telefono" required>
        <mat-error
          *ngIf="registroForm.get('telefono')?.hasError('required') && registroForm.get('telefono')?.touched"
        >
          ¡El teléfono es obligatorio!
        </mat-error>
      </mat-form-field>

      <mat-form-field style="flex-basis: 100%;">
        <label for="email">Correo Electrónico:</label>
        <input matInput type="email" id="email" formControlName="email" required>
        <mat-error
          *ngIf="registroForm.get('email')?.hasError('required') && registroForm.get('email')?.touched"
        >
          ¡El correo electrónico es obligatorio!
        </mat-error>
        <mat-error *ngIf="registroForm.get('email')?.hasError('email') && registroForm.get('email')?.touched">
          ¡Por favor, introduce un correo electrónico válido!
        </mat-error>
      </mat-form-field>

      <mat-form-field style="flex-basis: 100%;">
        <label for="password">Contraseña:</label>
        <input matInput type="password" id="password" formControlName="password" required>
        <mat-error
          *ngIf="registroForm.get('password')?.hasError('required') && registroForm.get('password')?.touched"
        >
          ¡La contraseña es obligatoria!
        </mat-error>
      </mat-form-field>

      
    </div>

    <button mat-raised-button type="submit" [disabled]="registroForm.invalid">Registrar</button>
  </form>
</div>